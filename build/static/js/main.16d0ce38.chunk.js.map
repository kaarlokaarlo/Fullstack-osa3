{"version":3,"sources":["components/Filtter.js","components/PersonForm.js","components/NumbersShown.js","services/persons.js","index.js"],"names":["Filtter","add","newC","handle","onSubmit","value","onChange","PersonForm","newN","newNu","handleNu","type","Button","id","name","handleClick","onClick","NumbersShown","pers","filter","a","toLocaleLowerCase","includes","map","key","number","baseUrl","axios","get","newPerson","post","urli","delete","then","response","data","newNumber","put","App","useState","persons","setPersons","newName","setNewName","setNewNumber","newCondition","setNewCondition","newMessage","setNewMessage","newStyle","setNewStyle","useEffect","personService","message","notificStyle","color","fontSize","background","borderStyle","padding","borderRadius","marginBottom","style","event","preventDefault","target","uusÄijjä","toLowerCase","isEmpty","window","confirm","dude","find","p","changedPerson","setTimeout","catch","error","concat","deletedPerson","ta","person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16d0ce38.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filtter = ({add,newC,handle}) => {\r\n    return(\r\n<form onSubmit={add}><div>filter shown with</div>\r\n      <input\r\n      value={newC}\r\n      onChange={handle}\r\n      /></form>\r\n      )\r\n}\r\n\r\n\r\nexport default Filtter\r\n","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({ add,newN,handle,newNu,handleNu }) =>{\r\n    return(\r\n<form onSubmit = {add}>\r\n        <div>name:</div>\r\n        <input \r\n           value={newN}\r\n           onChange={handle}\r\n          />\r\n        <div>\r\n          <div>number:</div>\r\n          <input\r\n          value={newNu}\r\n          onChange={handleNu}\r\n          />\r\n          <div>\r\n          <button type=\"submit\">add</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Button = ({id, name, handleClick}) =>{\r\n  return <button name={name} id={id} onClick={handleClick}>delete</button>\r\n}\r\n\r\nconst NumbersShown = ({pers,newC, handleClick}) =>{\r\n  if(!(newC==='')){\r\n    const numbs = pers.filter(a => (a.name.toLocaleLowerCase().includes(newC.toLocaleLowerCase())))\r\n    return(\r\n         numbs.map(a =>\r\n          <div key={a.name}>\r\n            <p>{a.name} {a.number}\r\n                <Button name={a.name} id={a.id} handleClick={handleClick}/>\r\n            </p>\r\n          </div>\r\n    )\r\n    )\r\n  }else return(pers.map(a =>\r\n    <div key={a.id}>\r\n      <p> {a.name} {a.number}\r\n        <Button name ={a.name} id ={a.id} handleClick={handleClick}/> \r\n      </p>\r\n    </div>\r\n    )\r\n  )\r\n}\r\n\r\n\r\n    \r\nexport default NumbersShown","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons' //'http://localhost:3001/api/persons/'\r\n\r\nconst getAll = () =>{\r\n    return axios.get(baseUrl)//.then(response=>response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    return axios.post(baseUrl,newPerson)//.then(response=>response.data)\r\n}\r\n\r\nconst deletePerson = id =>{\r\n    const urli = baseUrl + id\r\n    const ta = axios.delete(urli).then(response=>response.data)\r\n    return ta\r\n}\r\n\r\nconst update = (id,newNumber) =>{\r\n    const urli = baseUrl + id\r\n    const ta = axios.put(urli, newNumber)//.then(response =>response.data)\r\n    return ta\r\n}\r\n\r\nexport default { getAll , create , deletePerson , update }","import ReactDOM from 'react-dom';\nimport './index.css';\nimport Filtter from './components/Filtter'\nimport PersonForm from './components/PersonForm'\nimport NumbersShown from './components/NumbersShown'\nimport React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport personService from './services/persons'\n\n\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newCondition, setNewCondition ] = useState('')\n  const [ newMessage, setNewMessage ] = useState(null)\n  const [ newStyle, setNewStyle ] = useState(false)\n\n\n\n  \n  useEffect(() => {\n    personService\n    .getAll()\n    .then(response =>{\n      setPersons(response.data)\n    })\n  }, [])\n\n\n const Notification = ({ message, style }) =>{\n     const notificStyle = {\n     color: 'green' ,\n     fontSize: '20px',\n     background: 'lightgray' ,\n     borderStyle: 'solid' ,\n     padding: '10px' ,\n     borderRadius: '5px',\n     marginBottom: '10px'\n   }\n  \n   if(style){\n     \n     notificStyle.color = 'red' \n   }\n  \n   if (message === null) return null\n\n   return (\n     <div style = {notificStyle}>\n       <br />\n       <em>{message}</em>\n     </div>\n   )\n }\n\n  const addName = (event) =>{\n      event.preventDefault()\n        const uusÄijjä = {\n          name: newName,\n          number: newNumber\n        }\n     if (!(persons.map(a => a.name.toLowerCase()).includes(uusÄijjä.name.toLowerCase()))){\n        personService\n        .create(uusÄijjä)\n        .then(response =>{\n          setPersons(persons.concat(response.data))\n          setNewMessage(`Added ${uusÄijjä.name}`)\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setNewMessage(null)\n            }, 5000)\n          \n        })\n\n    } else{ //window.alert(`${uusÄijjä.name} is already added to phonebook`)\n        if(!(newNumber.isEmpty)){\n          if(window.confirm(`${uusÄijjä.name} is already added to phonebook, replace the old number with a new one? `)){\n            const dude = persons.find(p => p.name.toLowerCase() === uusÄijjä.name.toLowerCase())\n            const id = dude.id\n            const changedPerson = { ...dude, number: uusÄijjä.number }  \n          \n           \n            personService\n              .update(id, changedPerson)\n              .then(response => {\n                \n                setPersons(persons.map(pers => pers.id !== id ? \n                    pers : response.data\n                    ))\n                  setNewMessage(`Updated ${dude.name}'s number`)\n                  setNewName('')\n                  setNewNumber('')\n                  setTimeout(() => {setNewMessage(null)}, 5000)\n              })\n              .catch(error =>{\n                setNewMessage(`Information of ${dude.name} has already been removed from server`,1)\n                setNewStyle(true)\n                setTimeout(() => {\n                  setNewMessage(null)\n                  setNewStyle(false)}, 5000)\n              })\n        }\n      }\n    \n  }\n  \n    }\n\n  \n  const handleName = (event) =>{setNewName(event.target.value)}\n\n  const handleNumber = (event) =>{\n   \n   setNewNumber(event.target.value)\n}\n\nconst addCondition= (event) =>{\n  event.preventDefault()\n  setNewCondition(\"\")\n} \n\nconst handleFilter = (event) =>{\n  setNewCondition(event.target.value)\n}\n\nconst handleClick =(event) =>{\n  \n  if(window.confirm('Delete ' + event.target.name + '?')){\n    const deletedPerson = event.target\n     personService\n    .deletePerson(event.target.id)\n    .then(response =>{\n      const ta = persons.filter(person => person.id != deletedPerson.id)\n      setPersons(ta)\n      setNewMessage(`Deleted ${deletedPerson.name}`)\n      setTimeout(() => {setNewMessage(null)}, 5000)\n    })\n    .catch(error =>{\n      setNewMessage(`Information of ${deletedPerson.name} has already been removed from server`)\n      setNewStyle(true)\n      setTimeout(() => {\n         setNewMessage(null)\n         setNewStyle(false)}, 5000)\n    })\n}\n}\n\n\n\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notification message = {newMessage} style={newStyle} />\n\n      <Filtter add = {addCondition} handle = {handleFilter} newC = {newCondition}/>\n      <h2>Add a new</h2>\n      <PersonForm \n        add = {addName} \n        newN = {newName} \n        handle = {handleName} \n        newNu = {newNumber} \n        handleNu = {handleNumber} />\n      <h2>Numbers</h2>   \n        <NumbersShown\n          handleClick={handleClick}\n          pers = {persons}\n          newC = {newCondition}/>  \n     \n    </div>\n  )\n\n}\n\n\nexport default App\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}